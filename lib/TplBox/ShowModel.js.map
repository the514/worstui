{"version":3,"sources":["../../src/TplBox/ShowModel.js"],"names":["ShowModel","state","model","modelName","data","props","nextProps","dataSource","modelId","id","columns","dataArr","projectUrl","url","updateList","columnObj","each","index","val","k","v","title","undefined","showHidden","key","keyName","isLocal","push","visible","height","overflow","top","onCancel","map","elem"],"mappings":"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","file":"ShowModel.js","sourcesContent":["import React, { Component } from 'react';\nimport GetColumnTpl from './GetColumnTpl';\nimport { Modal } from 'antd';\nimport $ from 'jquery';\n\n// 查看数据模态框\nclass ShowModel extends Component {\n  state = { \n    model: [],\n    modelName: [],\n    data: [],\n  }\n  componentDidMount(props) {\n  }\n\n  componentWillReceiveProps(nextProps) {\n  }\n\n  render() {\n    let dataSource = this.props.dataSource;\n    let modelId = this.props.dataSource.id;\n    let columns = this.props.columns;\n    let dataArr = [];\n    let projectUrl = this.props.url;\n    let updateList = this.props.updateList;\n\n    let columnObj = {};\n    $.each(columns, function(index, val) {\n      $.each(columns[index], function(k, v) {\n        if (k===\"key\" && columns[index].title !== undefined && columns[index].showHidden !== true) {\n          columnObj[v] = {\n            title: columns[index].title,\n            key: columns[index][k],\n            keyName: columns[index].keyName,\n            isLocal: columns[index].isLocal\n          }\n        }\n      });\n    });\n\n    // console.log(columnObj);\n    // console.log(dataSource);\n\n    if (dataSource !== null) {\n\n      $.each(dataSource, function(k, v) {\n        // console.log(dataSource);\n        \n        if(columnObj[k] !== undefined){\n\n          // console.log(columnObj[k][\"keyName\"]);\n          // console.log(dataSource[columnObj[k][\"keyName\"]]);\n          // console.log(dataSource);\n          dataArr.push({\n            title: columnObj[k].title,\n            key: columnObj[k].key,\n            data: GetColumnTpl(\n                  k,          // 字段名称\n                  v,          // 模型名称\n                  v,          // 默认值\n                  \"show\",     // 样式类型 [add, show, edit]\n                  projectUrl, // 项目地址\n                  modelId,    // 数据id\n                  updateList, // updataList 回调函数\n                  dataSource[(columnObj[k][\"keyName\"]!==undefined?columnObj[k][\"keyName\"]:\"\")], // 分类解释数据字段名\n                  columnObj[k].isLocal) // 是否是本地解释数据\n          }); \n\n        }\n\n        // console.log(columns);\n\n      });\n    }\n    // $.each(columns, function(index, val) {\n    //   $.each(columns[index], function(k, v) {\n    //     console.log(columns[index].showHidden);\n    //   });\n    // });\n\n    return (\n      <div>\n        <Modal\n          className=\"showModel\"\n          visible={this.props.visible}\n          title={this.props.title}\n          width={1200}\n          style={{height: \"90%\", overflow: \"hidden\", top: \"40px\"}}\n          okText=\"关闭\"\n          onCancel={this.props.onCancel}\n          footer={null}\n        >\n        <div className=\"showbd\">\n          { \n            dataArr &&\n            dataArr.map((elem) =>\n              <div key={elem.key}>\n                <span>{elem.title}</span>\n                <div className=\"bd\">\n                  {elem.data}\n                </div>\n              </div>\n            )\n          }\n        </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default ShowModel;"]}